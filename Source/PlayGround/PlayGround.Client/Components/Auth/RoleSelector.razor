@* 역할 선택 카드 (회원가입 페이지) *@

<div class="text-xs font-semibold text-text-secondary mb-2.5">어떤 목적으로 사용하시나요?</div>
<div class="grid grid-cols-3 gap-2 mb-5 max-md:grid-cols-2">
    @foreach (var role in Roles)
    {
        var isSelected = SelectedRole == role.Value;
        <div class="@Css.Card.Selectable(isSelected)" @onclick="() => SelectRole(role.Value)">
            <div class="@Css.Card.CardIcon(isSelected)">@role.Icon</div>
            <div class="@Css.Card.CardName(isSelected)">@role.Name</div>
            <div class="@Css.Card.CardDesc(isSelected)">@role.Description</div>
        </div>
    }
</div>

@code {
    [Parameter] public string SelectedRole { get; set; } = "Player";
    [Parameter] public EventCallback<string> SelectedRoleChanged { get; set; }

    private record RoleOption(string Value, string Icon, string Name, string Description);

    private static readonly RoleOption[] Roles =
    [
        new("Player", "\ud83d\udc64", "학부모 / 선수", "팀 찾기 · 리뷰"),
        new("TeamAdmin", "\ud83c\udfe0", "팀 관리자", "팀 운영 · 모집"),
        new("Agent", "\u21cb", "에이전트", "매칭 · 추천"),
    ];

    private async Task SelectRole(string role)
    {
        SelectedRole = role;
        await SelectedRoleChanged.InvokeAsync(role);
    }
}
