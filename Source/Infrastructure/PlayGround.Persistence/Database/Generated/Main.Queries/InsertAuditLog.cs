// <auto-generated />
// This file was automatically generated from SQL query definition. Do not edit manually.

using Dapper;
using PlayGround.Infrastructure.Database.Base;

namespace Main.Queries;

/// <summary>
/// InsertAuditLog
/// </summary>
public class InsertAuditLog(RepositoryBase repository) : QueryBase(repository)
{
    public override string Sql => @"INSERT INTO [dbo].[AuditLogs]
	(
	    [UserId],
	    [Action],
	    [TableName],
	    [EntityId],
	    [OldValues],
	    [NewValues],
	    [PerformedAt]
	)
	VALUES
	(
	    @UserId,
	    @Action,
	    @TableName,
	    @EntityId,
	    @OldValues,
	    @NewValues,
	    GETUTCDATE()
	);";

	public Guid? UserId { get; set; } = null;
	public string Action { get; set; } = String.Empty;
	public string TableName { get; set; } = null;
	public string EntityId { get; set; } = null;
	public string OldValues { get; set; } = null;
	public string NewValues { get; set; } = null;
    public override object BuildParameters() => new { UserId, Action, TableName, EntityId, OldValues, NewValues };
}
