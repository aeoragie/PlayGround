// <auto-generated />
// This file was automatically generated from SQL query definition. Do not edit manually.

using Dapper;
using PlayGround.Infrastructure.Database.Base;

namespace Main.Queries;

/// <summary>
/// GetUserByIdOrEmail
/// </summary>
public class GetUserByIdOrEmail(RepositoryBase repository) : QueryBase(repository)
{
    public override string Sql => @"SELECT
	    [UserId],
	    [Email],
	    [EmailConfirmed],
	    [FullName],
	    [NickName],
	    [ProfileImageUrl],
	    [PhoneNumber],
	    [UserStatus],
	    [UserRole],
	    [LastLoginAt],
	    [CreatedAt]
	FROM
	    [dbo].[Users] WITH (NOLOCK)
	WHERE
	    [DeletedAt] IS NULL
	    AND (
	        (@UserId IS NOT NULL AND [UserId] = @UserId)
	        OR (@Email IS NOT NULL AND [Email] = @Email)
	    );";

	public Guid? UserId { get; set; } = null;
	public string Email { get; set; } = null;
    public override object BuildParameters() => new { UserId, Email };
}
